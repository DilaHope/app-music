<!-- <p>add-album works!</p> -->

<div class="container-sm">
    <form [formGroup]="albumForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="name">Nom de l'album</label>
            <input formControlName="name" placeholder="Nom de l'album" type="text" class="form-control">
            <div *ngIf="name?.invalid && name?.touched" class="alert alert-danger">
                <p *ngIf="name?.errors?.['required']">Ce champs est requis.</p>
                <p *ngIf="name?.errors?.['minlength']">Ce champs doit avoir une longueur minimale de {{name?.errors?.['minlength']}} ./p>
                <p>{{name?.errors | json}}</p>
            </div>
        </div>

        <div class="form-group">
            <label for="title">Title:</label>
            <input formControlName="title" placeholder="Title" type="text" class="form-control" id="title">
            <div *ngIf="title?.invalid && title?.touched" class="alert alert-danger">
                <p *ngIf="title?.errors?.['required']">Ce champs est requis.</p>
            </div>
        </div>

        <div class="form-group">
            <label for="ref">Ref:</label>
            <input formControlName="ref" id="ref" placeholder="Ref" type="text" class="form-control">
            <div *ngIf="ref?.invalid && ref?.touched" class="alert alert-danger">
                <p *ngIf="ref?.errors?.['required']">Ce champs est requis.</p>
            </div>
        </div>


        <div class="form-group">
            <label for="duration">Duration:</label>
            <input formControlName="duration" id="duration" type="text" class="form-control">
            <div *ngIf="duration?.invalid && duration?.touched" class="alert alert-danger">
                <p *ngIf="duration?.errors?.['required']">Ce champs est requis.</p>
            </div>
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <input formControlName="description" id="description" type="text" class="form-control" rows="3">
            <div *ngIf="description?.invalid && description?.touched" class="alert alert-danger">
                <p *ngIf="description?.errors?.['required']"> Ce champs est requis.</p>
            </div>
        </div>

        <div formArrayName="tags"><br>
            <h2>Etiquettes de l'albums</h2> <br>
            <button type="button" (click)="addTag()">+ Ajouter une Ã©tiqutte</button> <br>
            <div *ngFor="let tag of tags.controls; let i = index" class="form-group"><br>
                <label for="tag-{{i}}">Tag :</label><br>
                <input [formControlName]="i" id="tag-{{i}} " type="text" class="form-control" style="width: 300px;"> <br>
            </div>
        </div><br>

        <button  [disabled]="albumForm.invalid" type="submit" class="btn btn-primary">Add</button><br>

    </form>
</div>